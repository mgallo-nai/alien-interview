<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Alien Interview â€” 8 Species</title>
<style>
  :root{--bg:#0b1020; --panel:#131a33; --text:#eef2ff; --accent:#7cf7d4; --muted:#93a1b3;}
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#060a18,#0b1020 30%,#0e1833);color:var(--text)}
  header{padding:16px 20px;border-bottom:1px solid #1f2748;background:#0a1330;position:sticky;top:0}
  header h1{margin:0;font-size:1.05rem}
  #app{max-width:900px;margin:0 auto;padding:16px}
  .chat{background:var(--panel);border:1px solid #1f2748;border-radius:14px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.35)}
  .spec{padding:12px 14px;border-bottom:1px solid #1f2748;background:#0b1530}
  .spec h2{margin:0 0 6px 0;font-size:1.15rem}
  .spec .meta{font-size:.9rem;color:#b3c4e0;line-height:1.5}
  .status{padding:6px 14px;background:#0b1530;font-size:.82rem;color:#7cf7d4;border-bottom:1px solid #1f2748}
  .log{height:min(64vh,600px);overflow:auto;padding:18px;scroll-behavior:smooth}
  .msg{display:flex;gap:12px;margin:10px 0;align-items:flex-start}
  .msg .bubble{max-width:780px;padding:12px 14px;border-radius:12px;line-height:1.45}
  .user .bubble{background:#23305f}
  .alien .bubble{background:#0f2347;border:1px solid #253a7a}
  .role{font-size:.75rem;color:var(--muted);margin-bottom:4px}
  .inputbar{display:flex;gap:10px;padding:12px;border-top:1px solid #1f2748;background:#0c1735}
  input[type="text"]{flex:1;padding:12px 14px;border-radius:10px;border:1px solid #28345f;background:#0f1a3a;color:#eef2ff}
  input::placeholder{color:#96a2c3}
  button{background:var(--accent);color:#04131a;border:none;padding:12px 16px;border-radius:10px;font-weight:700;cursor:pointer}
  button:disabled{background:#374151;color:#888;cursor:not-allowed}
  .footer{font-size:.75rem;color:#94a3b8;text-align:center;margin:16px 0 8px}
  .done{color:#f87171;font-weight:600}
</style>
</head>
<body>
<header><h1>ðŸ‘½ Alien Interview Console</h1></header>

<div id="app">
  <div class="chat">
    <div id="spec" class="spec"></div>
    <div id="status" class="status"></div>
    <div id="log" class="log" aria-live="polite"></div>
    <div class="inputbar">
      <input id="textbox" type="text" placeholder="Type your questionâ€¦" />
      <button id="send">Send</button>
    </div>
  </div>
  <div class="footer">You may ask <b>3 valid questions</b>. Use the alienâ€™s responses as evidence for your claim.</div>
</div>

<script>
/* ===== helpers ===== */
const q=new URLSearchParams(location.search);
const pick=a=>a[Math.floor(Math.random()*a.length)];
const rand=(min,max)=>Math.floor(Math.random()*(max-min+1))+min;
const varify=s=>s
  .replace(/\{mins\}/g,()=>rand(2,8))
  .replace(/\{days\}/g,()=>rand(3,7))
  .replace(/\{mm\}/g,()=>rand(2,12));

/* ===== guard lists ===== */
const NEVERSAY=[
  'alive','are you alive','is it alive','are you living','living or nonliving',
  'characteristics of life','homeostasis','metabolism','reproduction','stimuli','cellular organization','cells'
];
const DEFLECTS=[
  "Please do not ask if I am alive. Ask about how I live, what I do, how I survive, etc.",
  "Labels are not evidence. Ask about my needs, how I change, whether I have young, how I respond, and how I keep going."
];
const CLARIFY=[
  "Please be more specificâ€”ask about how I get energy, how I grow or heal, or whether I have young.",
  "I did not understand. Try asking about food/energy, growth/healing, or young/reproduction.",
  "Ask about how I live: Do I eat or make energy? Do I grow? Do I have young?"
];

/* clarity wrappers */
const C=t=>({text:t,clarity:'clear'});
const V=t=>({text:t,clarity:'vague'});

/* ===== aliens ===== */
const ALIENS=[
  {
    id:'1',name:'Aurelian Phototroph',world:'Erythra',look:'I am a tall, stalk-like organism with wide green fronds. I live in warm, shallow pools on the always-sunny side of my tidally locked planet.',
    replies:{
      energy:[C("I use sunlight to make sugar for energy. When the sun shines, I stay active."),
              C("After {mins} minutes of sunlight, I can make enough energy to grow stronger."),
              C("When light is bright, I produce food inside myself and use it for energy."),
              V("I prefer bright places."),V("Light feels pleasant to me, but I am not sure what it does."),V("Dim areas make me sluggish, though I can remain there.")],
      growth:[C("I grow bigger over time, adding a new ring each season."),
              C("If I am cut, the wound closes within a day."),
              C("Marks made on my stalk move upward as new tissue grows."),
              V("I think I used to be smaller."),V("I may have changed size since last season."),V("Sometimes I feel different in size but Iâ€™m not sure.")],
      repro:[C("In warm months I grow bulbs that drop off and begin to move on their own."),
              C("When I press my fronds with a partner, a bead forms and later begins to move."),
              C("Bulbs that fall away can develop into others like me."),
              V("Sometimes little pieces appear near me."),V("Bits sometimes fall off, but I donâ€™t know what happens to them."),V("Sometimes I notice small shapes nearby.")]
    }
  },
  {
    id:'2',name:'Ferrivore Lithotroph',world:'Varron',look:'I am a low crawler with hard ridge plates and sensing whiskers. I live in rust-colored caves with mineral water dripping through iron seams.',
    replies:{
      energy:[C("I get energy from iron. When I eat iron filings, my body gets warmer within {mins} minutes."),
              C("I can feed on minerals, and certain drips make my body more active."),
              C("When I eat ore, I can keep moving for a long time."),
              V("Rocks taste good."),V("I enjoy licking stones but I donâ€™t know why."),V("I press my mouth to rocks and sometimes feel a change.")],
      growth:[C("I repair myself. Cracks in my plates close within {days} days."),
              C("When I eat ore, I become heavier and larger."),
              C("New plates grow over scars after a few days."),
              V("I feel sturdier after meals."),V("After eating, I sometimes feel different."),V("I think my shell changes after time.")],
      repro:[C("I press throat fans with a partner; later a pebble-egg opens with a small one inside."),
              C("A tiny chip of my plate can start a new one if it lands in the right place."),
              C("When conditions are right, I release an egg that hatches."),
              V("Sometimes a small pebble follows me."),V("At times, pieces come loose but I donâ€™t track them."),V("Occasionally something small appears nearby.")]
    }
  },
  {
    id:'3',name:'Cryo Ammonoform',world:'Thalos',look:'I am a soft, gel-bodied swimmer with thin fins. I live in very cold ammonia seas where my breath makes a purple cloud in the air.',
    replies:{
      energy:[C("I get energy by using certain chemicals in the water."),
              C("When I feed, a warm band appears inside me."),
              C("If I am given nitrate pads, my gills beat faster."),
              V("Some chemicals make me feel lively."),V("Certain waters change how I feel, though I am unsure how."),V("Sometimes my body reacts oddly when I drink the sea.")],
      growth:[C("I grow thicker with time, and small tears seal by the next dawn."),
              C("After each flood, a new pale ring forms around me."),
              C("As seasons pass, my body becomes larger and stronger."),
              V("Rings show up sometimes."),V("I think I change shape but I donâ€™t notice much."),V("Perhaps I grew compared to before, but I cannot tell.")],
      repro:[C("During the thaw I release threads that form beads; after {days} days the beads twitch."),
              C("Two of us braid whisker codes, and a pouch grows under my mantle."),
              C("Beads that form from me can develop into others like me."),
              V("Sometimes beads appear near me."),V("Threads sometimes break off, but I donâ€™t know what happens."),V("Small shapes appear and drift away.")]
    }
  },
  {
    id:'4',name:'Desert Strider',world:'Sere',look:'I am a long-legged runner with a pale coat and large ears. I travel across hot dunes by day and cold sands by night in thin air.',
    replies:{
      energy:[C("I use stored fat for energy when I run."),
              C("When I eat sweet pulp, I run faster."),
              C("Food helps me keep moving for long periods."),
              V("Food gives me energy."),V("I feel better after eating."),V("When I donâ€™t eat, I feel weak.")],
      growth:[C("I grow and heal. My stride got longer this season."),
              C("A cracked claw grew back in {days} days."),
              C("Old scars are covered with new skin as I grow."),
              V("My legs seem longer lately."),V("I may have changed size."),V("I cannot tell if I am larger now.")],
      repro:[C("We have young. If the nest is too cool, the kits do not move."),
              C("I bear two kits after many suns."),
              C("With a partner, I can produce young that feed and grow."),
              V("Sometimes I end up with small ones."),V("Small shapes appear near me at times."),V("Occasionally something small follows me.")]
    }
  },
  {
    id:'5',name:'Colony Weaver',world:'Pelagia',look:'I am a branching colony made of many small units. I live on warm reef pillars where outer fronds face the sun and inner mouths feed.',
    replies:{
      energy:[C("We get energy in two ways: outer fronds use sunlight, and inner mouths eat plankton."),
              C("When food is low, some units shrink while others grow, then we balance back out."),
              C("We can capture food particles and share them with all parts."),
              V("We like sun and current."),V("The water flow feels good to us."),V("We seem to prefer light places.")],
      growth:[C("We grow at the edges each week."),
              C("Cut tips seal quickly."),
              C("Storms make our skeleton thicker."),
              V("We get bigger at the edges."),V("Our shape changes slowly."),V("I cannot tell if we are larger now.")],
      repro:[C("Each red moon we release tiny swimmers."),
              C("A small piece can break off and start a new colony."),
              C("Parts of us separate and grow on their own."),
              V("Pieces drift away sometimes."),V("Sometimes fragments appear."),V("Bits break off but I donâ€™t follow them.")]
    }
  },
  {
    id:'6',name:'Sky Sailor',world:'Aerolyth',look:'I am a floating drifter with a clear gas sac, rim valves, and long tendrils. I ride warm air currents high in a gas-giant atmosphere.',
    replies:{
      energy:[C("I gain energy from sunlight and gases."),
              C("When the sun warms me, I rise without effort."),
              C("In richer air, I float higher and stay active."),
              V("Warm winds help me."),V("I like the sunlight."),V("I feel weak in poor air currents.")],
      growth:[C("My gas sac wall gets thicker after rich air."),
              C("Small tears knit within hours."),
              C("I grow more valves along my rim as I age."),
              V("My edges look thicker over time."),V("I think I change with the air."),V("I may be bigger than before.")],
      repro:[C("During storm season I release dust-like spores."),
              C("When two of us entwine, pods swell and grow."),
              C("Spores that drift can become new ones like me."),
              V("Sometimes dust comes off me."),V("I feel particles leave me at times."),V("I sometimes lose bits in the wind.")]
    }
  },
  {
    id:'7',name:'Mire Crawler',world:'Morass',look:'I am a slug-like scavenger with small bristles on my sides. I live in warm, poisonous swamps and often leave a thick paste trail behind me.',
    replies:{
      energy:[C("I get energy by eating rotting plants."),
              C("My body gets warmer while I feed."),
              C("Bark scrapings make me crawl faster."),
              V("I like rotting stuff."),V("Rotten smells attract me."),V("I feel better after eating sludge.")],
      growth:[C("Each time I molt, I leave a shell behind and grow."),
              C("Fresh skin covers my scars."),
              C("If I lose a feeler, it grows back."),
              V("Old skin comes off sometimes."),V("I feel different after molting."),V("Pieces of me seem to change.")],
      repro:[C("I lay slimy strings that open with tiny young."),
              C("With a partner, I form eggs by dawn."),
              C("Eggs hatch into small ones after {days} days."),
              V("Small ones appear in my slime."),V("Slime sometimes has shapes in it."),V("Something emerges from my trails at times.")]
    }
  },
  {
    id:'8',name:'Crystal Singer',world:'Umbra',look:'I am a shimmering, faceted being with many inner chambers. I live in cool, shadowed mountain caves and I glow when I hear certain sounds.',
    replies:{
      energy:[C("I get energy from minerals in dripping water."),
              C("After I drink, my glow brightens for {mins} minutes."),
              C("A copper-tasting drip makes my inner hum stronger."),
              V("I like mineral water."),V("Water dripping on me feels good."),V("I enjoy the taste of certain stones.")],
      growth:[C("Cracks fill with new layers within {days} days."),
              C("I add thin layers each season, so I get bigger."),
              C("My outer edges widen by about {mm} millimeters."),
              V("My edges seem wider year to year."),V("I think I change shape but slowly."),V("I may look different after a season.")],
      repro:[C("When two of us sing, a shard grows and later separates."),
              C("If a splinter is kept moist, it trembles and grows."),
              C("Small shards that fall away can grow into new ones."),
              V("Sometimes splinters make small ones."),V("Bits sometimes break off."),V("I sometimes notice small fragments.")]
    }
  }
];

/* ===== choose alien ===== */
function chooseAlien(){
  const wanted=(q.get('alien')||'').toLowerCase().trim();
  if(!wanted) return pick(ALIENS);
  return ALIENS.find(a=>a.id===wanted||a.name.toLowerCase().includes(wanted))||pick(ALIENS);
}
const A=chooseAlien();

/* ===== UI ===== */
const spec=document.getElementById('spec');
spec.innerHTML=`<h2>${A.name} â€” Planet ${A.world}</h2>
  <div class="meta">${A.look}</div>`;
const log=document.getElementById('log'),box=document.getElementById('textbox'),btn=document.getElementById('send'),status=document.getElementById('status');

function addMsg(role,text){
  const row=document.createElement('div'); row.className=`msg ${role}`;
  const who=role==='alien'?'Visitor':'You';
  row.innerHTML=`<div class="bubble"><div class="role">${who}</div><div class="text">${text}</div></div>`;
  log.appendChild(row); log.scrollTop=log.scrollHeight;
}

/* intro */
addMsg('alien',`Hello. My name is <b>${A.name}</b>, and I come from the planet <b>${A.world}</b>. ${A.look}
<br><br><b>Your task:</b> decide if I am alive using
